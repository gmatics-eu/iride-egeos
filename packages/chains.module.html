

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>chains.module module &#8212; chains 1.0.dev0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/rtd_sphinx_search.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script src="../_static/js/rtd_search_config.js"></script>
    <script src="../_static/js/rtd_sphinx_search.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'packages/chains.module';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Changelog" href="../changelog.html" />
    <link rel="prev" title="chains.foresthealth module" href="chains.foresthealth.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">chains 1.0.dev0 documentation</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="modules.html">API Reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 current active has-children"><a class="reference internal" href="chains.html">chains package</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="chains.foresthealth.html">chains.foresthealth module</a></li>
<li class="toctree-l3 current active"><a class="current reference internal" href="#">chains.module module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../py-modindex.html">Module Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/packages/chains.module.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>chains.module module</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.apply_fnf_mask"><code class="docutils literal notranslate"><span class="pre">apply_fnf_mask()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.apply_mmu_img"><code class="docutils literal notranslate"><span class="pre">apply_mmu_img()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.calculate_magnitude"><code class="docutils literal notranslate"><span class="pre">calculate_magnitude()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.calculate_magnitude_trio"><code class="docutils literal notranslate"><span class="pre">calculate_magnitude_trio()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.calculate_ndmi_nbr_msi"><code class="docutils literal notranslate"><span class="pre">calculate_ndmi_nbr_msi()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.clip_raster_by_vector"><code class="docutils literal notranslate"><span class="pre">clip_raster_by_vector()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.compute_change"><code class="docutils literal notranslate"><span class="pre">compute_change()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.compute_classification"><code class="docutils literal notranslate"><span class="pre">compute_classification()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.compute_vulnerability"><code class="docutils literal notranslate"><span class="pre">compute_vulnerability()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.coords_to_attrs"><code class="docutils literal notranslate"><span class="pre">coords_to_attrs()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.datarray2dataset"><code class="docutils literal notranslate"><span class="pre">datarray2dataset()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.dilate_each_matrix"><code class="docutils literal notranslate"><span class="pre">dilate_each_matrix()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.get_config"><code class="docutils literal notranslate"><span class="pre">get_config()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.harmonize_to_old"><code class="docutils literal notranslate"><span class="pre">harmonize_to_old()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.health_assessment"><code class="docutils literal notranslate"><span class="pre">health_assessment</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.health_assessment.baseline_adjustment"><code class="docutils literal notranslate"><span class="pre">health_assessment.baseline_adjustment()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.health_assessment.compute_assessment"><code class="docutils literal notranslate"><span class="pre">health_assessment.compute_assessment()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.health_assessment.compute_indexes"><code class="docutils literal notranslate"><span class="pre">health_assessment.compute_indexes()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.health_assessment.compute_medoids"><code class="docutils literal notranslate"><span class="pre">health_assessment.compute_medoids()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.health_assessment.create_directories"><code class="docutils literal notranslate"><span class="pre">health_assessment.create_directories()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.health_assessment.mask_datasets"><code class="docutils literal notranslate"><span class="pre">health_assessment.mask_datasets()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.health_assessment.prepare_input_datsets"><code class="docutils literal notranslate"><span class="pre">health_assessment.prepare_input_datsets()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.initialize_logger"><code class="docutils literal notranslate"><span class="pre">initialize_logger()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.isel_func"><code class="docutils literal notranslate"><span class="pre">isel_func()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.medoid_mosaic"><code class="docutils literal notranslate"><span class="pre">medoid_mosaic()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.normalized_difference"><code class="docutils literal notranslate"><span class="pre">normalized_difference()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.rasterize_geodataframe"><code class="docutils literal notranslate"><span class="pre">rasterize_geodataframe()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.s2l2a_cloudmask"><code class="docutils literal notranslate"><span class="pre">s2l2a_cloudmask()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.s2l2a_edgemask"><code class="docutils literal notranslate"><span class="pre">s2l2a_edgemask()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.s2l2a_masked"><code class="docutils literal notranslate"><span class="pre">s2l2a_masked()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.s2l2a_snowmask"><code class="docutils literal notranslate"><span class="pre">s2l2a_snowmask()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.save_cog"><code class="docutils literal notranslate"><span class="pre">save_cog()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.save_input_zarr"><code class="docutils literal notranslate"><span class="pre">save_input_zarr()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.stac_to_dataset"><code class="docutils literal notranslate"><span class="pre">stac_to_dataset()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.timed"><code class="docutils literal notranslate"><span class="pre">timed()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.ufunc_classify"><code class="docutils literal notranslate"><span class="pre">ufunc_classify()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.ufunc_reclassify"><code class="docutils literal notranslate"><span class="pre">ufunc_reclassify()</span></code></a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <div class="section" id="module-chains.module">
<span id="chains-module-module"></span><h1>chains.module module<a class="headerlink" href="#module-chains.module" title="Permalink to this heading">#</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="chains.module.apply_fnf_mask">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">apply_fnf_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_tiff_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataArray</span></span></span><a class="reference internal" href="../_modules/chains/module.html#apply_fnf_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.apply_fnf_mask" title="Permalink to this definition">#</a></dt>
<dd><p>Apply a mask to an xarray.DataArray based on a external forest map (in GeoTIFF format).
The forest mask must have:
- 0 or nan in case of not forest type pixel
- a number &gt;=1 for a forest type pixel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_array</strong> (<em>xarray.DataArray</em>) – The xarray.DataArray to be masked.</p></li>
<li><p><strong>mask_tiff_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – The file path to the  GeoTIFF defining the mask.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The xarray.DataArray with the mask applied.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>xarray.DataArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.apply_mmu_img">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">apply_mmu_img</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">da</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mmu</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataArray</span></span></span><a class="reference internal" href="../_modules/chains/module.html#apply_mmu_img"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.apply_mmu_img" title="Permalink to this definition">#</a></dt>
<dd><p>Fill holes and discards objects smaller than the Minimum Mapping Unit (MMU) in a binary change map
represented by a 2D DataArray.</p>
<p>Parameters:
- da (xarray.DataArray): Input change map represented as a 2D DataArray.
- mmu (int): Minimum Mapping Unit, specifying the minimum size (in pixels) for retained objects.</p>
<p>Returns:
- xarray.DataArray: Modified change map with objects smaller than the MMU removed.</p>
<p>Raises:
- AssertionError: If the input change map contains values other than 0 and 1.</p>
<p>The function identifies connected components (objects) in the change map and removes objects
smaller than the specified MMU. It ensures that the resulting change map maintains the original
NoData values and Coordinate Reference System (CRS).</p>
<p>Note: This function uses the scikit-image.ndimage module for labeling connected components.</p>
<p>Example:
<a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">`</span></a>python
import xarray as xr
from apply_mmu import apply_mmu_img</p>
<p># Assuming ‘change_map’ is a 2D DataArray with a NoData value
mmu_value = 100  # Set the desired MMU value
modified_change_map = apply_mmu_img(change_map, mmu_value)
<a href="#id5"><span class="problematic" id="id6">``</span></a><a href="#id7"><span class="problematic" id="id8">`</span></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.calculate_magnitude">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">calculate_magnitude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ndmi_pre</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nbr_pre</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msi_pre</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ndmi_post</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nbr_post</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msi_post</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataArray</span></span></span><a class="reference internal" href="../_modules/chains/module.html#calculate_magnitude"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.calculate_magnitude" title="Permalink to this definition">#</a></dt>
<dd><p>Given six Xarray DataArray containing the NDMI, NBR and MSI indexes over two
concatenated periods of time, the method uses a particular implementation of the Three Indices Three Dimensions (3I3D)
algorithm (Francini et a., 2022 - <a class="reference external" href="https://doi.org/10.3390/s22052015">https://doi.org/10.3390/s22052015</a>).
In this method, the forest health decrease magnitude is calculated by averaging just those three PMIs and
it has values between 0 and 1.
Lastly, for storage purposes, so that images can be stored using byte datatype,
the float values between 0 and 1 are multiplied by 255 (2^8)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ndmi_pre</strong> (<em>xarray.DataArray</em>) – DataArray containing the NDMI index for the initial period of time.</p></li>
<li><p><strong>nbr_pre</strong> (<em>xarray.DataArray</em>) – DataArray containing the NBR index for the initial period of time.</p></li>
<li><p><strong>msi_pre</strong> (<em>xarray.DataArray</em>) – DataArray containing the MSI index for the initial period of time.</p></li>
<li><p><strong>ndmi_post</strong> (<em>xarray.DataArray</em>) – DataArray containing the NDMI index for the final period of time.</p></li>
<li><p><strong>nbr_post</strong> (<em>xarray.DataArray</em>) – DataArray containing the NBR index for the final period of time.</p></li>
<li><p><strong>msi_post</strong> (<em>xarray.DataArray</em>) – DataArray containing the MSI index for the final period of time.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset containing the magnitude.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.calculate_magnitude_trio">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">calculate_magnitude_trio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ndmi_pre</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nbr_pre</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msi_pre</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ndmi_x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nbr_x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msi_x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ndmi_post</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nbr_post</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msi_post</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataArray</span></span></span><a class="reference internal" href="../_modules/chains/module.html#calculate_magnitude_trio"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.calculate_magnitude_trio" title="Permalink to this definition">#</a></dt>
<dd><p>Given nine Xarray DataArray containing the NDMI, NBR and MSI indexes over three
concatenated periods of time, uses the 3I3D algorithm to compute
the change magnitude.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ndmi_pre</strong> (<em>xarray.DataArray</em>) – DataArray containing the NDMI index for the initial period of time.</p></li>
<li><p><strong>nbr_pre</strong> (<em>xarray.DataArray</em>) – DataArray containing the NBR index for the initial period of time.</p></li>
<li><p><strong>msi_pre</strong> (<em>xarray.DataArray</em>) – DataArray containing the MSI index for the initial period of time.</p></li>
<li><p><strong>ndmi_post</strong> (<em>xarray.DataArray</em>) – DataArray containing the NDMI index for the final period of time.</p></li>
<li><p><strong>nbr_post</strong> (<em>xarray.DataArray</em>) – DataArray containing the NBR index for the final period of time.</p></li>
<li><p><strong>msi_post</strong> (<em>xarray.DataArray</em>) – DataArray containing the MSI index for the final period of time.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset containing the change magnitude.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.calculate_ndmi_nbr_msi">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">calculate_ndmi_nbr_msi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataArray</span></span></span><a class="reference internal" href="../_modules/chains/module.html#calculate_ndmi_nbr_msi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.calculate_ndmi_nbr_msi" title="Permalink to this definition">#</a></dt>
<dd><p>Given a Xarray Dataset containing Sentinel-2 L2A data, computes the
NDMI, NDR and MSI indexes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ds</strong> (<em>xarray.Dataset</em>) – Input Dataset containing Sentinel-2 L2A data.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DataArray containing the NDMI index.
nbr (xarray.DataArray): DataArray containing the NBR index.
msi (xarray.DataArray): DataArray containing the MSI index.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndmi (xarray.DataArray)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.clip_raster_by_vector">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">clip_raster_by_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataArray</span></span></span><a class="reference internal" href="../_modules/chains/module.html#clip_raster_by_vector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.clip_raster_by_vector" title="Permalink to this definition">#</a></dt>
<dd><p>Clip a DataArray based on the polygon defined by the vector and return a new DataArray.
This method put no data value outside the vector border.
:param data_array: The xarray.DataArray to be clipped.
:type data_array: xarray.DataArray
:param vector: The xarray.DataArray defining the polygon for clipping.
:type vector: xarray.DataArray</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The clipped DataArray.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>xarray.DataArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.compute_change">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">compute_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">magnitude</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">th</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fn_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_path_cog</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stac_epsg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_flag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clip_geometry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mmu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chains/module.html#compute_change"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.compute_change" title="Permalink to this definition">#</a></dt>
<dd><p>This method takes the results of calculate_magnitude_trio function (implementation of 3I3D algorithm for the SVC-S4-7b)
and it computes forest disturbance map based on a given magnitude threshold defined in the config file.
This step results in a forest disturbance map classified into disturbed (value = 2) and undisturbed classes (value=1),
No-Data (value=255). These values have been defined by e-Geos.
It optionally applys the MMU.
It is worth noting that the forest disturbance approach is applied to forest covers, thus, a forest mask is needed.
It takes the following parameters:</p>
<p>Parameters:
- magnitude: A DataArray representing the magnitude of change.
- th: The threshold value to determine change.
- fn_path: The file path of the fnf mask.
- save_path: The file path to save the output raster.
- save_path_cog: The file path to save the output raster as a COG (Cloud-Optimized GeoTIFF).
- stac_epsg: The EPSG code of the input magnitude data.
- epsg: The EPSG code of the desired output projection.
- save_flag: A boolean flag indicating whether to save the output raster.
- clip_geometry: A geometry object to clip the output raster.
- overwrite: A boolean flag indicating whether to overwrite the output file if it already exists.
- mmu: The minimum mapping unit. Default value is 1.</p>
<p>The method performs the following steps:</p>
<ol class="arabic simple">
<li><p>Checks for missing values in the magnitude DataArray.</p></li>
<li><p>Divides the magnitude DataArray into two classes based on the threshold value: values &gt;= threshold are considered class 2, otherwise class 1.</p></li>
<li><p>Sets class 3 (missing values) in the change DataArray based on the missing values in the magnitude DataArray.</p></li>
<li><p>Sets the CRS (Coordinate Reference System) of the change DataArray using the provided stac_epsg value, and reprojects it to the desired EPSG using the epsg value.</p></li>
<li><p>Applies the fnf mask (forest mask) to the change DataArray using the fn_path and epsg values.</p></li>
<li><p>If mmu value is greater than 1, applies the minimum mapping unit to the change DataArray using the apply_mmu_img function.</p></li>
<li><p>If save_flag is True or the output file does not exist (and overwrite is True), proceeds to save the change DataArray as a GeoTIFF file.</p></li>
<li><p>Clips the change DataArray based on the provided clip_geometry.</p></li>
<li><p>Writes the change DataArray without a nodata value using the rio.write_nodata method.</p></li>
<li><p>Saves the change DataArray as a GeoTIFF file using the save_path and save_path_cog values.</p></li>
<li><p>Returns the change DataArray.</p></li>
</ol>
<p>Note: This method uses the &#64;retry decorator to automatically retry the method in case of a RuntimeError. The retry decorator is not provided in this documentation.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.compute_classification">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">compute_classification</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">magnitude</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fn_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_path_cog</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stac_epsg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_flag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clip_geometry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chains/module.html#compute_classification"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.compute_classification" title="Permalink to this definition">#</a></dt>
<dd><p>Compute Classification</p>
<p>This method computes the classification of a given magnitude dataset.</p>
<p>Parameters:
- <cite>magnitude</cite> (xarray.DataArray): The magnitude dataset.
- <cite>fn_path</cite> (str): The file path to the FNF mask dataset.
- <cite>save_path</cite> (str): The file path to save the classification raster.
- <cite>save_path_cog</cite> (str): The file path to save the classification raster as a Cloud-Optimized GeoTIFF (COG).
- <cite>stac_epsg</cite> (int): The EPSG code of the original magnitude dataset.
- <cite>epsg</cite> (int): The EPSG code to reproject the classification raster.
- <cite>save_flag</cite> (bool): Flag to indicate whether to save the classification raster or not.
- <cite>clip_geometry</cite> (ogr.Geometry): Optional geometry object to clip the classification raster.
- <cite>overwrite</cite> (bool): Flag to indicate whether to overwrite existing classification raster if it exists.</p>
<p>Returns:
- <cite>classes</cite> (xarray.DataArray): The computed classification raster.</p>
<p>Raises:
- <cite>ValueError</cite>: If the dimension of the magnitude output is null.
- <cite>rasterio.errors.RasterioIOError</cite>: If there is an error during TIFF creation.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.compute_vulnerability">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">compute_vulnerability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">classes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ft_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ft_cod_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_path_cog</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_flag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clip_geometry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chains/module.html#compute_vulnerability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.compute_vulnerability" title="Permalink to this definition">#</a></dt>
<dd><p>This method computes vulnerability based on the given inputs and saves the result as a GeoTIFF file.</p>
<p>Parameters:
- classes: A rasterio.DatasetReader object representing the classified classes.
- ft_path: A string representing the file path of the feature raster.
- ft_cod_path: A string representing the file path of the feature code table.
- save_path: A string representing the file path to save the vulnerability result.
- save_path_cog: A string representing the file path to save the Cloud-Optimized GeoTIFF (COG).
- epsg: An integer representing the EPSG code for the desired coordinate reference system (CRS).
- save_flag: A boolean indicating whether to save the result or not.
- clip_geometry: A GeoJSON-like object representing the geometry with which to clip the result.
- overwrite: A boolean indicating whether to overwrite an existing file with the same save path.</p>
<p>Returns:
- vulnerability: A rasterio.DatasetReader object representing the vulnerability result.</p>
<p>Note: This method uses the ‘retry’ decorator to retry the execution of the method if a ‘RuntimeError’ occurs. The maximum number of tries is 10, and there is a 2-second delay between
* each try.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.coords_to_attrs">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">coords_to_attrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">excluded</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><span class="pre">list</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="../_modules/chains/module.html#coords_to_attrs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.coords_to_attrs" title="Permalink to this definition">#</a></dt>
<dd><p>Given a Xarray Dataset, converts its non-dimension coordinates to attributes and drops these coordinates.
Any additional coordinates which should not be converted and dropped can be specified in the ‘excluded’ list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> (<em>xarray.Dataset</em>) – The Dataset to process.</p></li>
<li><p><strong>excluded</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a>) – The list of additional excluded coordinates.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The processed Dataset.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.datarray2dataset">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">datarray2dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">da</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="../_modules/chains/module.html#datarray2dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.datarray2dataset" title="Permalink to this definition">#</a></dt>
<dd><p>Convert from DataArray to Dataset. If the ‘long_name’ attribute is present and matches the number of bands,
use it to rename the bands. Otherwise, convert without renaming and notify the user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>da</strong> (<em>xarray.DataArray</em>) – Input DataArray.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset with variables, renamed if possible.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.dilate_each_matrix">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">dilate_each_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask_np</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">structure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chains/module.html#dilate_each_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.dilate_each_matrix" title="Permalink to this definition">#</a></dt>
<dd><p>Applies binary dilation to each matrix in a 3D array, iterating over axis 0.
In this case, False values (considered cloudy) will be dilated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mask_np</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.26)"><em>numpy.ndarray</em></a>) – 3D array</p></li>
<li><p><strong>iterations</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – Number of dilation iterations for each matrix.</p></li>
<li><p><strong>structure</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.26)"><em>numpy.ndarray</em></a>) – Structuring element for dilation. If None, full connectivity is used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3D array with dilation applied to each matrix, with False dilated.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.26)">numpy.ndarray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.get_config">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">get_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'config.ini'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chains/module.html#get_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.get_config" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.harmonize_to_old">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">harmonize_to_old</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="../_modules/chains/module.html#harmonize_to_old"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.harmonize_to_old" title="Permalink to this definition">#</a></dt>
<dd><p>Harmonizes new Sentinel-2 data to the old baseline. This function take as input a Xarray Dataset containing
both images with old (03.00) and new (04.00) processing baselines.</p>
<dl class="simple">
<dt>Parameters</dt><dd><p>ds (xarray.Dataset): A Dataset with four dimensions: time, band, y, x</p>
</dd>
<dt>Returns</dt><dd><p>xarray.Dataset: A Dataset with all values harmonized to the old processing baseline.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="chains.module.health_assessment">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">health_assessment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_date_pre</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Timestamp.html#pandas.Timestamp" title="(in pandas v2.2.0)"><span class="pre">Timestamp</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date_pre</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Timestamp.html#pandas.Timestamp" title="(in pandas v2.2.0)"><span class="pre">Timestamp</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date_mid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Timestamp.html#pandas.Timestamp" title="(in pandas v2.2.0)"><span class="pre">Timestamp</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date_mid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Timestamp.html#pandas.Timestamp" title="(in pandas v2.2.0)"><span class="pre">Timestamp</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date_post</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Timestamp.html#pandas.Timestamp" title="(in pandas v2.2.0)"><span class="pre">Timestamp</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date_post</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Timestamp.html#pandas.Timestamp" title="(in pandas v2.2.0)"><span class="pre">Timestamp</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">aoi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><span class="pre">dict</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">clip_geometry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mgrs_tile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cloudcover</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_to_disk</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><span class="pre">dict</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">results_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">aoi_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">assessment_kind</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">chain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">fn_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">ft_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">ft_cod_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">th</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">224</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mmu</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'warning'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chains/module.html#health_assessment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.health_assessment" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_date_pre</strong> – Start date for pre assessment</p></li>
<li><p><strong>end_date_pre</strong> – End date for pre assessment</p></li>
<li><p><strong>start_date_mid</strong> – Start date for mid assessment</p></li>
<li><p><strong>end_date_mid</strong> – End date for mid assessment</p></li>
<li><p><strong>start_date_post</strong> – Start date for post assessment</p></li>
<li><p><strong>end_date_post</strong> – End date for post assessment</p></li>
<li><p><strong>aoi</strong> – Area of interest</p></li>
<li><p><strong>clip_geometry</strong> – Clipping geometry</p></li>
<li><p><strong>mgrs_tile</strong> – MGRS tile</p></li>
<li><p><strong>epsg</strong> – EPSG code</p></li>
<li><p><strong>cloudcover</strong> – Maximum cloud cover threshold</p></li>
<li><p><strong>save_to_disk</strong> – Saving options</p></li>
<li><p><strong>results_path</strong> – Path to store the assessment results</p></li>
<li><p><strong>aoi_name</strong> – Name of the Area of Interest</p></li>
<li><p><strong>assessment_kind</strong> – Kind of assessment (weekly or yearly)</p></li>
<li><p><strong>chain</strong> – Classification chain</p></li>
<li><p><strong>fn_path</strong> – File path for forest non-forest classifier</p></li>
<li><p><strong>ft_path</strong> – File path for Feature Transform model</p></li>
<li><p><strong>ft_cod_path</strong> – File path for Feature Transform dictionary</p></li>
<li><p><strong>th</strong> – Threshold value for classification</p></li>
<li><p><strong>mmu</strong> – Minimum Mapping Unit (MMU)</p></li>
<li><p><strong>overwrite</strong> – Overwrite existing results if True</p></li>
<li><p><strong>log_level</strong> – Logging level (debug, info, warning, error, critical)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="chains.module.health_assessment.baseline_adjustment">
<span class="sig-name descname"><span class="pre">baseline_adjustment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chains/module.html#health_assessment.baseline_adjustment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.health_assessment.baseline_adjustment" title="Permalink to this definition">#</a></dt>
<dd><p>Adjusts the baseline of the dataset list based on a specified cutoff date.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ds_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a>) – A list of datasets.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of datasets with the baseline adjusted.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chains.module.health_assessment.compute_assessment">
<span class="sig-name descname"><span class="pre">compute_assessment</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chains/module.html#health_assessment.compute_assessment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.health_assessment.compute_assessment" title="Permalink to this definition">#</a></dt>
<dd><p>This method is the entry point for computing the assessment of</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chains.module.health_assessment.compute_indexes">
<span class="sig-name descname"><span class="pre">compute_indexes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chains/module.html#health_assessment.compute_indexes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.health_assessment.compute_indexes" title="Permalink to this definition">#</a></dt>
<dd><p>Computes and saves the indexes for each dataset in ds_list.</p>
<p>The method calculates the Normalized Difference Moisture Index (NDMI),
Normalized Burn Ratio (NBR), and Multispectral Similarity Index (MSI)
for each dataset in ds_list. The indexes are then saved to the specified
paths.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ds_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a>) – A list of datasets.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list containing the computed indexes.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)">list</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.12)"><strong>RuntimeError</strong></a> – If the computation of indexes fails.</p></li>
<li><p><strong>RetryError</strong> – If the computation of indexes fails after multiple retries.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chains.module.health_assessment.compute_medoids">
<span class="sig-name descname"><span class="pre">compute_medoids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chains/module.html#health_assessment.compute_medoids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.health_assessment.compute_medoids" title="Permalink to this definition">#</a></dt>
<dd><p>This method computes the medoids for a given list of datasets.</p>
<p>Parameters:
- ds_list: list of xarray.Dataset objects. Each dataset represents a time series of raster data.</p>
<p>Returns:
- ds_list_medoid: list of xarray.Dataset objects. Each dataset represents the computed medoid for the corresponding input dataset.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chains.module.health_assessment.create_directories">
<span class="sig-name descname"><span class="pre">create_directories</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chains/module.html#health_assessment.create_directories"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.health_assessment.create_directories" title="Permalink to this definition">#</a></dt>
<dd><p>Method: create_directories</p>
<p>This method creates directories for different purposes based on the provided parameters. It ensures that the directories are created if they don’t already exist.</p>
<p>Parameters:
- self: The object instance itself.</p>
<p>Returns:
- None</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chains.module.health_assessment.mask_datasets">
<span class="sig-name descname"><span class="pre">mask_datasets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chains/module.html#health_assessment.mask_datasets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.health_assessment.mask_datasets" title="Permalink to this definition">#</a></dt>
<dd><p>Masks the datasets in the given list.</p>
<p>Parameters:
- ds_list: A list of xarray Dataset objects. Each Dataset represents a dataset to be masked.</p>
<p>Returns:
- ds_list_masked: A list of masked xarray Dataset objects. Each Dataset in the list has been masked.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chains.module.health_assessment.prepare_input_datsets">
<span class="sig-name descname"><span class="pre">prepare_input_datsets</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chains/module.html#health_assessment.prepare_input_datsets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.health_assessment.prepare_input_datsets" title="Permalink to this definition">#</a></dt>
<dd><p>Prepares Sentinel 2 Level 2A datasets.</p>
<p>Retry decorator is applied to handle possible runtime errors and retry the method execution up to 10 times with a delay of 2 seconds between each attempt.
Timed decorator is applied to measure the execution time of the method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><em>object</em></a>) – The current instance of the class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of xarray datasets representing the prepared Sentinel 2 Level 2A datasets.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)">list</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.initialize_logger">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">initialize_logger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'my-logger'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chains/module.html#initialize_logger"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.initialize_logger" title="Permalink to this definition">#</a></dt>
<dd><p>Initializes a logger with the given name. If no name is provided, it default to ‘my-logger’.</p>
<p>Parameters:
- name (str): Optional. The name of the logger [default: “my-logger”].</p>
<p>Returns:
- logger (logger): The initialized logger.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.isel_func">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">isel_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indexer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="../_modules/chains/module.html#isel_func"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.isel_func" title="Permalink to this definition">#</a></dt>
<dd><p>Given a Xarray Dataset, applies the isel function by selecting time indexes contained in a Xarray DataArray and
drops the time coordinate. This function is meant to be applied to a Dask chunk in the xarray.Dataset.map_blocks
function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> (<em>xarray.Dataset</em>) – The Dataset to apply the isel function to.</p></li>
<li><p><strong>indexer</strong> (<em>xarray.DataArray</em>) – The DataArray containing the time indexes to select from ds.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The processed Dataset.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.medoid_mosaic">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">medoid_mosaic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="../_modules/chains/module.html#medoid_mosaic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.medoid_mosaic" title="Permalink to this definition">#</a></dt>
<dd><p>The method  apply a Medoid process for pixels with multiple observations acquired on different dates (Kennedy et al., 2018),
whereby the spectral value for each band for each pixel was compared to the median value for the same pixel calculated from among values available
or all images selected for that year.
Then, the pixel whose spectral values are the most like the medians using Euclidean spectral distance was selected,
and the relative band values were used to populate the image composite. This implementation expects as input Sentinel-2 L2A dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ds</strong> (<em>xarray.Dataset</em>) – Input Sentinel-2 L2A Dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset containing the medoid composite.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.normalized_difference">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">normalized_difference</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">da_1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">da_2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataArray</span></span></span><a class="reference internal" href="../_modules/chains/module.html#normalized_difference"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.normalized_difference" title="Permalink to this definition">#</a></dt>
<dd><p>Given two Xarray DataArray representing two different bands of the same dataset,
computes the normalized difference between the two bands.
:param da_1: First DataArray.
:type da_1: xarray.DataArray
:param da_2: Second DataArray.
:type da_2: xarray.DataArray</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>DataArray containing the normalized difference.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>xarray.DataArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.rasterize_geodataframe">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">rasterize_geodataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raster_template_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chains/module.html#rasterize_geodataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.rasterize_geodataframe" title="Permalink to this definition">#</a></dt>
<dd><p>Rasterize a GeoDataFrame using a template raster.</p>
<p>Parameters:
- gdf (GeoDataFrame): The GeoDataFrame to rasterize.
- raster_template_path (str): The path to the template raster.</p>
<p>Returns:
- raster_xarray (xarray.DataArray): The rasterized data as a DataArray.
- raster_meta (dict): The metadata of the resulting raster.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.s2l2a_cloudmask">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">s2l2a_cloudmask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">da_qa</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dilation_iter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">13</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="../_modules/chains/module.html#s2l2a_cloudmask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.s2l2a_cloudmask" title="Permalink to this definition">#</a></dt>
<dd><p>Applies cloud masking to a given xarray Dataset containing
Sentinel-2 L2A data based on the quality band. It also applies
dilation to the cloud mask to expand cloud coverage and include
cloud edges and potentially cloud shadows.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> (<em>xarray.Dataset</em>) – Input Dataset to be cloud-masked.</p></li>
<li><p><strong>da_qa</strong> (<em>xarray.DataArray</em>) – Quality band DataArray containing information about cloud presence.</p></li>
<li><p><strong>dilation_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – Number of dilation iterations to perform, default is 13.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Cloud-masked Dataset with dilated cloud masks.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.s2l2a_edgemask">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">s2l2a_edgemask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="../_modules/chains/module.html#s2l2a_edgemask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.s2l2a_edgemask" title="Permalink to this definition">#</a></dt>
<dd><p>Applies masking to a given xarray Dataset containing
Sentinel-2 L2A data based on the valid values contained in
the B8A and B09 bands.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ds</strong> (<em>xarray.Dataset</em>) – Input Dataset to be masked.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Masked Dataset.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.s2l2a_masked">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">s2l2a_masked</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="../_modules/chains/module.html#s2l2a_masked"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.s2l2a_masked" title="Permalink to this definition">#</a></dt>
<dd><p>Applies masking to the given Sentinel-2 Level-2A dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ds</strong> (<em>xr.Dataset</em>) – The Sentinel-2 Level-2A dataset to be masked.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The masked Sentinel-2 Level-2A dataset.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>xr.Dataset</p>
</dd>
</dl>
<dl>
<dt>Example Usage:</dt><dd><p>import xarray as xr</p>
<p># Load Sentinel-2 Level-2A dataset using xarray
ds = xr.open_dataset(‘path/to/dataset.nc’)</p>
<p># Apply masking
ds_masked = s2l2a_masked(ds)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.s2l2a_snowmask">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">s2l2a_snowmask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">band_green</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">band_swir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="../_modules/chains/module.html#s2l2a_snowmask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.s2l2a_snowmask" title="Permalink to this definition">#</a></dt>
<dd><p>Applies snow masking to a given xarray Dataset containing
Sentinel-2 L2A data based on the NDSI values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> (<em>xarray.Dataset</em>) – Input Dataset to be cloud-masked.</p></li>
<li><p><strong>band_green</strong> (<em>string</em>) – name of the green band</p></li>
<li><p><strong>band_swir</strong> (<em>string</em>) – name of the SWIR band</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Snow-masked Dataset.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.save_cog">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">save_cog</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_tif</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_tif</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chains/module.html#save_cog"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.save_cog" title="Permalink to this definition">#</a></dt>
<dd><p>Saves a GeoTIFF file as a Cloud Optimized GeoTIFF (COG).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_tif</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – The path of the input GeoTIFF file.</p></li>
<li><p><strong>output_tif</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – The path of the output COG file.</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Example usage:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">save_cog</span><span class="p">(</span><span class="s1">&#39;input.tif&#39;</span><span class="p">,</span> <span class="s1">&#39;output.cog&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method uses the ‘rio cogeo create’ command from the ‘rasterio’ library to create a Cloud Optimized GeoTIFF.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.save_input_zarr">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">save_input_zarr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clip_geometry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chains/module.html#save_input_zarr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.save_input_zarr" title="Permalink to this definition">#</a></dt>
<dd><p>Save input data to Zarr format.</p>
<p>Parameters:
- ds_list (list): List of xarray.Dataset objects containing the input data.
- path_list (list): List of paths where the Zarr data should be saved.
- overwrite (bool): Boolean flag indicating whether to overwrite existing files.
- clip_geometry (shapely.geometry.base.BaseGeometry or None): Shapely geometry used for clipping.
- epsg (int): EPSG code specifying the coordinate reference system.</p>
<p>Returns:
- None</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.stac_to_dataset">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">stac_to_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">aoi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><span class="pre">dict</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.12)"><span class="pre">tuple</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">collections</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><span class="pre">list</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><span class="pre">dict</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">assets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><span class="pre">list</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">nan</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="../_modules/chains/module.html#stac_to_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.stac_to_dataset" title="Permalink to this definition">#</a></dt>
<dd><p>Perform a SpatioTemporal Asset Catalog (STAC) query and return the results as an Xarray Dataset.</p>
<p>This function queries a STAC catalog for geospatial data that falls within a specified area of interest and time range,
applies additional filters using a JSON query, and then assembles the results into an Xarray Dataset.</p>
<div class="section" id="parameters">
<h2>Parameters:<a class="headerlink" href="#parameters" title="Permalink to this heading">#</a></h2>
<dl class="simple">
<dt>aoi<span class="classifier">dictionary</span></dt><dd><p>A dictionary representing the area of interest in WGS84 coordinates.</p>
</dd>
<dt>time_range<span class="classifier">tuple</span></dt><dd><p>A tuple (start_time, end_time) representing the temporal range for the query.</p>
</dd>
<dt>collections<span class="classifier">list of str</span></dt><dd><p>A list of STAC collection IDs to filter the search.</p>
</dd>
<dt>query<span class="classifier">dict</span></dt><dd><p>A JSON-like dictionary that specifies additional filters for the query.</p>
</dd>
<dt>assets<span class="classifier">list of str</span></dt><dd><p>A list of asset names to include in the output dataset.</p>
</dd>
<dt>epsg<span class="classifier">int</span></dt><dd><p>The EPSG code specifying the coordinate reference system (CRS) for the output dataset.</p>
</dd>
<dt>resolution<span class="classifier">float</span></dt><dd><p>The spatial resolution in the units of the specified CRS (epsg).</p>
</dd>
<dt>nodata<span class="classifier">float, optional</span></dt><dd><p>The value to be used for nodata or missing data. Default is np.nan.</p>
</dd>
</dl>
</div>
<div class="section" id="returns">
<h2>Returns:<a class="headerlink" href="#returns" title="Permalink to this heading">#</a></h2>
<dl class="simple">
<dt>xarray.Dataset</dt><dd><p>An Xarray Dataset containing geospatial data from the STAC catalog.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.timed">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">timed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chains/module.html#timed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.timed" title="Permalink to this definition">#</a></dt>
<dd><p>This decorator prints the execution time for the decorated function.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.ufunc_classify">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">ufunc_classify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chains/module.html#ufunc_classify"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.ufunc_classify" title="Permalink to this definition">#</a></dt>
<dd><p>Classifies a given value into one of five categories based on certain conditions.</p>
<p>Parameters:
- value: A numeric value that needs to be classified.</p>
<p>Returns:
- An integer representing the category of the given value. The possible categories are: 1, 2, 3, 4, or 5.</p>
<p>If the given value does not fall into any category, the method returns np.nan.</p>
<p>Example Usage:
&gt;&gt;&gt; ufunc_classify(1.5)
2</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ufunc_classify</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="go">nan</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="chains.module.ufunc_reclassify">
<span class="sig-prename descclassname"><span class="pre">chains.module.</span></span><span class="sig-name descname"><span class="pre">ufunc_reclassify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/chains/module.html#ufunc_reclassify"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#chains.module.ufunc_reclassify" title="Permalink to this definition">#</a></dt>
<dd><p>Reclassifies a value based on the lookup table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The value to be reclassified.</p></li>
<li><p><strong>table</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – A lookup table that maps input values to output values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The reclassified value.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a></p>
</dd>
</dl>
</dd></dl>

</div>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="chains.foresthealth.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">chains.foresthealth module</p>
      </div>
    </a>
    <a class="right-next"
       href="../changelog.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Changelog</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.apply_fnf_mask"><code class="docutils literal notranslate"><span class="pre">apply_fnf_mask()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.apply_mmu_img"><code class="docutils literal notranslate"><span class="pre">apply_mmu_img()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.calculate_magnitude"><code class="docutils literal notranslate"><span class="pre">calculate_magnitude()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.calculate_magnitude_trio"><code class="docutils literal notranslate"><span class="pre">calculate_magnitude_trio()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.calculate_ndmi_nbr_msi"><code class="docutils literal notranslate"><span class="pre">calculate_ndmi_nbr_msi()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.clip_raster_by_vector"><code class="docutils literal notranslate"><span class="pre">clip_raster_by_vector()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.compute_change"><code class="docutils literal notranslate"><span class="pre">compute_change()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.compute_classification"><code class="docutils literal notranslate"><span class="pre">compute_classification()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.compute_vulnerability"><code class="docutils literal notranslate"><span class="pre">compute_vulnerability()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.coords_to_attrs"><code class="docutils literal notranslate"><span class="pre">coords_to_attrs()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.datarray2dataset"><code class="docutils literal notranslate"><span class="pre">datarray2dataset()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.dilate_each_matrix"><code class="docutils literal notranslate"><span class="pre">dilate_each_matrix()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.get_config"><code class="docutils literal notranslate"><span class="pre">get_config()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.harmonize_to_old"><code class="docutils literal notranslate"><span class="pre">harmonize_to_old()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.health_assessment"><code class="docutils literal notranslate"><span class="pre">health_assessment</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.health_assessment.baseline_adjustment"><code class="docutils literal notranslate"><span class="pre">health_assessment.baseline_adjustment()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.health_assessment.compute_assessment"><code class="docutils literal notranslate"><span class="pre">health_assessment.compute_assessment()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.health_assessment.compute_indexes"><code class="docutils literal notranslate"><span class="pre">health_assessment.compute_indexes()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.health_assessment.compute_medoids"><code class="docutils literal notranslate"><span class="pre">health_assessment.compute_medoids()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.health_assessment.create_directories"><code class="docutils literal notranslate"><span class="pre">health_assessment.create_directories()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.health_assessment.mask_datasets"><code class="docutils literal notranslate"><span class="pre">health_assessment.mask_datasets()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.health_assessment.prepare_input_datsets"><code class="docutils literal notranslate"><span class="pre">health_assessment.prepare_input_datsets()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.initialize_logger"><code class="docutils literal notranslate"><span class="pre">initialize_logger()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.isel_func"><code class="docutils literal notranslate"><span class="pre">isel_func()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.medoid_mosaic"><code class="docutils literal notranslate"><span class="pre">medoid_mosaic()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.normalized_difference"><code class="docutils literal notranslate"><span class="pre">normalized_difference()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.rasterize_geodataframe"><code class="docutils literal notranslate"><span class="pre">rasterize_geodataframe()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.s2l2a_cloudmask"><code class="docutils literal notranslate"><span class="pre">s2l2a_cloudmask()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.s2l2a_edgemask"><code class="docutils literal notranslate"><span class="pre">s2l2a_edgemask()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.s2l2a_masked"><code class="docutils literal notranslate"><span class="pre">s2l2a_masked()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.s2l2a_snowmask"><code class="docutils literal notranslate"><span class="pre">s2l2a_snowmask()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.save_cog"><code class="docutils literal notranslate"><span class="pre">save_cog()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.save_input_zarr"><code class="docutils literal notranslate"><span class="pre">save_input_zarr()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.stac_to_dataset"><code class="docutils literal notranslate"><span class="pre">stac_to_dataset()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.timed"><code class="docutils literal notranslate"><span class="pre">timed()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.ufunc_classify"><code class="docutils literal notranslate"><span class="pre">ufunc_classify()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chains.module.ufunc_reclassify"><code class="docutils literal notranslate"><span class="pre">ufunc_reclassify()</span></code></a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By GMATICS srl
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024, GMATICS srl.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>